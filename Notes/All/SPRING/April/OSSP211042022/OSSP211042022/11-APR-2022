#1. How to work with autogenerated primary key columns of a table?
#2. How to implement pagination?
#3. How to work with rollup logic?
------------------------------------------------------------------------------------------
#1. working with autogenerated primary key columns
In the below tables, upon inserting the data into vehicles table, the database will generated vehicle_no primary key column value, we need to fetch the vehicle_no primary key column value that is generated by database to insert the data into vehicle_details table

How to fetch the primarykey column value that is generated by the database after the insert operation?
	
vehicles
---------
vehicle_no (pk) (AI) (surrogate key columns) (generated by the database)
model_nm
manufacturer
color
registration_no
fuel_type
lease_amount

java jdbc approach
--------------------
public int saveVehicle(VehicleBo bo) throws SqlException {
	Connection con = null;
	PreparedStatement pstmt = null;
	
	try {
		Class.forName("com.mysql.cj.jdbc.Driver");
		con = DriverManager.getConnection(url, un, pwd);
		
		pstmt = con.preparedStatement("insert into vehicles(model_nm, manufacturer, color, registration_no, fuel_type, lease_amount) values(?,?,?,?,?,?)", new String[]{"vehicle_no"});
		
		pstmt.setString(1, bo.getModelName());
		pstmt.setString(2, bo.getManufacturer());
		// substitute the positional parameters		
		pstmt.executeUpdate();
		
		ResultSet rs = pstmt.getGeneratedKeys();
		if(rs.next()) {
			int vehicleNo = rs.getInt("vehicle_no");
		}		
		return vehicleNo;		
	}catch(SqlException e) {
		e.printStackTrace();
		throw e;
	}finally {
		// close resources
	}
}
-----------------------------------------------------------------------------------------
@Configuration
class JavaConfig {...}

@Repository
class VehicleDao {
	private final String SQL_INSERT_VEHICLE = "insert into vehicles(model_nm, manufacturer, color, registration_no, fuel_type, lease_amount) values(?,?,?,?,?,?)";
	
	@Autowired
	private JdbcTemplate jdbcTemplate;
	
	public int saveVehicle(final VehicleBo bo) {
		KeyHolder kh = new GeneratedKeyHolder();
		
		jdbcTemplate.update(new PreparedStatementCreator() {
			public PreparedStatment createPreparedStatement(Connection con) {
				PreparedStatement pstmt = null;
				
				pstmt = con.preparedStatement(SQL_INSERT_VEHICLE, new String[]{"vehicle_no"});
				pstmt.setString(1, bo.getModelName());
				pstmt.setString(2, bo.getManufacturer());
				pstmt.setString(3, bo.getColor());
				pstmt.setString(4, bo.getRegistrationNo());
				pstmt.setString(5, bo.getFuelType());
				pstmt.setFloat(6, bo.getLeaseAmount());
				return pstmt;
			}
		}, kh);
		int vehicleNo = kh.get("vehicle_no").intValue();
		return vehicleNo;
	}		
}


















	
